<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MobiTribe</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>
table{
    width: 100%;
    background-color: #F7F7F7;
}

        .hidden-row {
        display: none;
        }
        </style>
    <style>
        .ui-autocomplete {
          background-color: #F7F7F7;
          border: 1px solid #ccc; /* Optional: Add a border for better visibility */
        }
      
        #store-details {
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-top: 10px;
          background-color: #F7F7F7;
        }
      
        input {
          width: 100%;
          box-sizing: border-box;
          padding: 10px; /* Adjust the padding as needed */
          margin: 5px 5px 5px 5px; /* Top, Right, Bottom, Left */
          background-color: #F7F7F7;
        }
      
        input::placeholder {
          color: #888;
          font-style: italic;
          font-weight: bold;
        }
      
        .search-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-top: 10px;
          background-color: #F7F7F7;
        }
      
        .contentContainer {
          border: 1px solid #ccc;
          border-top: 0;
          padding: 10px;
        }
      
        h2,
        h1 {
          padding-top: 15px;
          width: 100%;
          text-align: center;
          background-color: #F7F7F7;
        }
      </style>
</head>
<body>
    <div class="search-container">
        <input id="search-box" placeholder="Type to search...">
    </div>
    <div id="no-price-change" style="display: none;"></div>
    <h1 id="last-updated"></h1>
    <table>
        <tr>
            <td><a href="#" class="button-link" id="dailyButton">Daily Report</a></td>
            <td><a href="#" class="button-link" id="monthlyButton">Monthly Report</a></td>
            <td><a href="#" class="button-link" id="samsungButton">Samsung</a></td>
            <td><a href="#" class="button-link" id="infinixButton">Infinix</a></td>
        </tr>
        <tr>
            <td><a href="#" class="button-link" id="tecnoButton">Tecno</a></td>
            <td><a href="#" class="button-link" id="vivoButton">Vivo</a></td>
            <td><a href="#" class="button-link" id="oppoButton">Oppo</a></td>
            <td><a href="#" class="button-link" id="xiaomiButton">Xiaomi</a></td>
        </tr>
                <tr class="hidden-row">
            <td><a href="#" class="button-link" id="realmeButton">Realme</a></td>
            <td><a href="#" class="button-link" id="SparxButton">Sparx</a></td>
            <td><a href="#" class="button-link" id="itelButton">Itel</a></td>
            <td><a href="#" class="button-link" id="appleButton">Iphone</a></td>            
        </tr>
        <tr class="hidden-row">
            <td><a href="#" class="button-link" id="popularButton">Popular</a></td>
            <td><a href="#" class="button-link" id="lowtohighButton">All Low to High</a></td>
            <td><a href="#" class="button-link" id="hightolowButton">All High to Low</a></td>
            <td><a href="#" class="button-link" id="20kto35kButton">20k To 35k</a></td>
        </tr>
        <tr class="hidden-row">
            <td><a href="#" class="button-link" id="36kto50kButton">36k To 50k</a></td>
        </tr>
        <!-- Other rows... -->
    </table>
    <button class="expand-btn">Expand</button>
    <button class="collapse-btn" style="display:none;">Collapse</button>
    <div class="contentContainer" tabindex="0">
    </div>
    <div id="store-details"></div>

    <script>
         //Clear the contentContainer div when the input field is clicked
$("#search-box").on("focus", function() {
//$(".contentContainer").empty();
//});
        $(function() {
        var items = [];
        var uniqueMobiles = new Set();
        
        // Initialize autocomplete
        $("#search-box").autocomplete({
        source: function(request, response) {
        // Fetch data dynamically when user starts typing
        $.get('testing.html', function(data) {
        $('.contentContainer').html(data);
        
        // Extract unique mobile names
        $('.container-name').each(function() {
        var mobileName = $(this).find('.mobile-name h1').text().split('(')[0].trim();
        if (!uniqueMobiles.has(mobileName)) {
        uniqueMobiles.add(mobileName);
        items.push(mobileName);
        }
        });
        
        response($.ui.autocomplete.filter(items, request.term));
        });
        },
        select: function(event, ui) {
        var selectedItem = ui.item.value;
        if (selectedItem) {
        $('.container-name').hide().filter(function() {
        var mobileName = $(this).find('.mobile-name h1').text().split('(')[0].trim();
        return mobileName === selectedItem;
        }).show();
        if ($('.container-name:visible').length === 0) {
        $('.container-name').hide();
        //$('#no-price-change').text('No Price change Detected').show();
        } else {
        //$('#no-price-change').hide();
        }
        } else {
        $('.container-name').show();
        //$('#no-price-change').hide();
        }
        
        // Close the autocomplete list after a short delay, shift focus out of the input element, and clear the input field
        setTimeout(function() {
        $("#search-box").autocomplete("close");
        $("#search-box").blur(); // Shift focus out of the input element
        $("#search-box").val(''); // Clear the input field
        }, 500); // Adjust the delay time as needed (500 milliseconds in this example)
        }
        });
        });
        </script>
        
<script>
        // Load popular_imagelist.html by default
$(document).ready(function() {
    //loadPage('assets/popular/popular.html');
    });

        // Handle button clicks
        $(document).ready(function() {
            $('#popularButton').click(function() {
                loadPage('assets/popular/popular.html');
            });

            $('#samsungButton').click(function() {
                loadPage('assets/samsung/samsung.html');
            });

            $('#infinixButton').click(function() {
                loadPage('assets/infinix/infinix.html');
            });

            $('#tecnoButton').click(function() {
                loadPage('assets/tecno/tecno.html');
            });

            $('#vivoButton').click(function() {
                loadPage('assets/vivo/vivo.html');
            });

            $('#oppoButton').click(function() {
                loadPage('assets/oppo/oppo.html');
            });

            $('#xiaomiButton').click(function() {
                loadPage('assets/xiaomi/xiaomi.html');
            });

            $('#realmeButton').click(function() {
                loadPage('assets/realme/realme.html');
            });

            $('#SparxButton').click(function() {
                loadPage('assets/sparx/sparx.html');
            });

            $('#itelButton').click(function() {
                loadPage('assets/itel/itel.html');
            });

            $('#appleButton').click(function() {
                loadPage('assets/apple/apple.html');
            });

            $('#lowtohighButton').click(function() {
                loadPage('assets/lowtohigh/lowtohigh.html');
            });

            $('#hightolowButton').click(function() {
                loadPage('assets/hightolow/hightolow.html');
            });

            $('#20kto35kButton').click(function() {
                loadPage('assets/20kto35k/20kto35k.html');
            });

            $('#36kto50kButton').click(function() {
                loadPage('assets/36kto50k/36kto50k.html');
            });

            $('#monthlyButton').click(function() {
                loadPage('assets/monthly_report/monthly_report.html');
            });

            $('#dailyButton').click(function() {
                loadPage('assets/daily_report/daily_report.html');
            });

            // Add similar handlers for other buttons
        });

        // Load the specified HTML file into the content container
        function loadPage(pageName) {
            $("#store-details").empty();
            $('.contentContainer').load(pageName);
        }
    </script>
    	<script>
            // Get the last modified date of the file
            $.ajax({
                url: 'pricelist_html.html',
                type: 'HEAD',
                success: function(data, textStatus, request) {
                    var lastModified = request.getResponseHeader('Last-Modified');
                    var date = new Date(lastModified);
    
                    // Format the date as required
                    var dayName = date.toLocaleString('en-US', { weekday: 'long' });
                    var monthName = date.toLocaleString('en-US', { month: 'long' });
                    var year = date.getFullYear();
                    var day = date.getDate();
    
                    // Display the formatted date in a div
                    var formattedDate = `Last Updated on ${dayName} ${day} ${monthName} ${year}`;
                    $('#last-updated').html(formattedDate);
                }
            });
        });
        </script>
</body>
</html>
