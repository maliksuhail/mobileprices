<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<style>
body {
text-align: center;
}
#brand-input {
background-color: #fff;
border: 1px solid #ddd;
border-radius: 5px;
padding: 10px;
font-size: 16px;
color: #333;
margin: 0 auto;
display: block;
width: 100%;
max-width: 300px;
}
</style>
</head>
<body>
<input id="brand-input" placeholder="Type to search...">
<div id="no-price-change" style="display: none;"></div>
<div id="data-container"></div> <!-- Container to load data dynamically -->
</body>
</html>
<script>
$(function() {
var items = [];
var uniqueMobiles = new Set();

// Initialize autocomplete
$("#brand-input").autocomplete({
source: function(request, response) {
// Fetch data dynamically when user starts typing
$.get('testing.html', function(data) {
$('#data-container').html(data);

// Extract unique mobile names
$('.container-name').each(function() {
var mobileName = $(this).find('.mobile-name h1').text().split('(')[0].trim();
if (!uniqueMobiles.has(mobileName)) {
uniqueMobiles.add(mobileName);
items.push(mobileName);
}
});

response($.ui.autocomplete.filter(items, request.term));
});
},
select: function(event, ui) {
var selectedItem = ui.item.value;
if (selectedItem) {
$('.container-name').hide().filter(function() {
var mobileName = $(this).find('.mobile-name h1').text().split('(')[0].trim();
return mobileName === selectedItem;
}).show();
if ($('.container-name:visible').length === 0) {
$('.container-name').hide();
$('#no-price-change').text('No Price change Detected').show();
} else {
$('#no-price-change').hide();
}
} else {
$('.container-name').show();
$('#no-price-change').hide();
}

// Close the autocomplete list after a short delay, shift focus out of the input element, and clear the input field
setTimeout(function() {
$("#brand-input").autocomplete("close");
$("#brand-input").blur(); // Shift focus out of the input element
$("#brand-input").val(''); // Clear the input field
}, 500); // Adjust the delay time as needed (500 milliseconds in this example)
}
});
});
</script>
