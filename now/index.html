<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  .scrollable-table {
  overflow-x: auto;  /* Enable horizontal scrolling if needed */
  position: relative; /* Required for the expand button positioning */
}

.scrollable-table table {
  width: 100%;  /* Ensure table fills container width */
}

.scrollable-table tbody {
  max-height: 100px;  /* Set initial height for showing limited rows */
  overflow-y: hidden; /* Hide overflowing content */
  transition: max-height 0.3s ease-in-out; /* Add smooth transition for expansion */
}

.scrollable-table.expanded tbody {
  max-height: unset; /* Allow full height when expanded */
}

.expand-button {
  position: absolute;  /* Position button below the table */
  bottom: 0;  /* Align to bottom */
  right: 0;  /* Align to right */
  padding: 5px 10px;
  border: 1px solid #ddd;
  background-color: #eee;
  cursor: pointer;
  transition: transform 0.3s ease-in-out; /* Add smooth transition for button rotation */
}

.scrollable-table.expanded .expand-button {
  transform: rotate(180deg); /* Rotate button icon on expansion */
}

</style>
<div class="scrollable-table">
  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>Category</th>
        <th>Price</th>
        <th>Stock</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Phone Case</td>
        <td>Accessories</td>
        <td>$15.99</td>
        <td>In Stock</td>
      </tr>
      </tbody>
  </table>
  <button class="expand-button">Expand Table ({{ numRowsVisible }} rows visible)</button>
</div>
<script>
  const tableContainer = document.querySelector('.scrollable-table');
const expandButton = document.querySelector('.expand-button');
const tableBody = document.querySelector('.scrollable-table tbody');
const numRows = tableBody.querySelectorAll('tr').length;

expandButton.textContent = `Expand Table (${numRows} rows visible)`;

expandButton.addEventListener('click', () => {
  tableContainer.classList.toggle('expanded');
  const isExpanded = tableContainer.classList.contains('expanded');
  expandButton.textContent = ` ${isExpanded ? 'Collapse' : 'Expand'} Table (${numRows} rows visible)`;
});

</script>